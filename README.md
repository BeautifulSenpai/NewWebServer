CREATE DATABASE IF NOT EXISTS control;

USE control;

CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    INDEX (email)
);

CREATE TABLE IF NOT EXISTS licenses (
    id INT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(255) NOT NULL,
    license_key VARCHAR(255) DEFAULT 'default_value',
    FOREIGN KEY (email) REFERENCES users(email) ON DELETE CASCADE
);
